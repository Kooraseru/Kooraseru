const c=(()=>{const s="theme",o="dark",t=["light","dark"];function u(){if(typeof document>"u")return null;const e=document.cookie.split(";");for(let n of e){const[r,m]=n.trim().split("=");if(r===s&&m){const i=decodeURIComponent(m);if(t.includes(i))return console.log("[Theme] Found theme in cookie:",i),i}}return null}function h(e){if(!t.includes(e)){console.warn("[Theme] Invalid theme for cookie:",e);return}try{const n=new Date;n.setTime(n.getTime()+31536e6);const r=`${s}=${encodeURIComponent(e)}; path=/; max-age=31536000; expires=${n.toUTCString()}; SameSite=Lax`;document.cookie=r,console.log("[Theme] Cookie set:",e)}catch(n){console.error("[Theme] Error setting cookie:",n)}}function l(e){t.includes(e)||(console.warn("[Theme] Invalid theme, using default:",e),e=o);try{return document.documentElement.setAttribute("data-theme",e),console.log("[Theme] Applied to DOM:",e),e}catch(n){return console.error("[Theme] Error applying theme:",n),o}}function a(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function d(){const e=u();if(e)return e;const n=a();return console.log("[Theme] Using system preference:",n),n}function T(){const e=d();l(e),console.log("[Theme] Initialization complete, current theme:",e)}function f(e){if(console.log("[Theme] setTheme called with:",e),!t.includes(e))return console.error("[Theme] Invalid theme:",e),!1;l(e),h(e);try{window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:e}}))}catch(n){console.warn("[Theme] Could not dispatch event:",n)}return!0}function g(){const e=document.documentElement.getAttribute("data-theme");return t.includes(e||"")&&e||o}return{init:T,setTheme:f,getCurrentTheme:g,getPreferredTheme:d,getSystemTheme:a}})();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c.init):c.init();window.ThemeManager=c;
//# sourceMappingURL=theme-manager.js.map
